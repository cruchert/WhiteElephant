<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Blind White Elephant Drawer</title>
  <style>
    body {font-family: sans-serif; text-align: center; background: #c00; color: white; margin:0; padding:5%; min-height:100vh; display:flex; flex-direction:column; justify-content:space-between;}
    h1 {font-size: clamp(1.8em, 6vw, 3em); margin:10px 0;}
    p {font-size: 1.2em;}
    #reveal {font-size: clamp(2.2em, 9vw, 4.5em); font-weight:bold; min-height:180px; padding:30px 10px;}
    #counter {font-size: 1.6em; margin:20px;}
    button {padding:18px 36px; font-size:1.4em; background:#fff; color:#c00; border:none; border-radius:12px; cursor:pointer; margin:15px;}
    button:disabled {background:#555; color:#aaa; cursor:not-allowed;}
    .done {background:#333 !important; color:#aaa !important;}
  </style>
</head>
<body>
  <h1>White Elephant 2025</h1>
  <p>Names are locked in. Ready for the big reveal?</p>

  <div id="counter"></div>
  <div id="reveal">Tap below when everyone is watchingâ€¦</div>
  <button id="nextBtn" onclick="revealNext()">Reveal Next Player</button>

  <script>
    const originalNames = [
      "Kylie","Nick","Kendra","Kaedynce","Rylee","Marin",
      "Ellie","Zeke","Rayne","Drea","Brandon",
      "Grandma Lisa","Grandma Chris","Roberto","Diego","JJ"
    ];

    // Create a derangement (no fixed points)
    let order = [];
    do {
      order = [...originalNames];
      for (let i = order.length - 1; i > 0; i--) {
        let j = Math.floor(Math.random() * (i + 1));
        [order[i], order[j]] = [order[j], order[i]];
      }
    } while (order.some((name, i) => name === originalNames[i]));

    let pos = 0;
    const total = order.length;

    document.getElementById('counter').textContent = `1 of ${total}`;

    function revealNext() {
      if (pos >= total) return;
      document.getElementById('reveal').textContent = order[pos];
      pos++;
      if (pos < total) {
        document.getElementById('counter').textContent = `${pos + 1} of ${total}`;
      } else {
        document.getElementById('counter').textContent = "That's everyone! Merry Christmas!";
        document.getElementById('nextBtn').textContent = "All Done!";
        document.getElementById('nextBtn').classList.add('done');
        document.getElementById('nextBtn').disabled = true;
      }
    }
  </script>
</body>
</html>